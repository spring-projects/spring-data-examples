# Event Handlers Example

In this example the [Pivotal GemFire](https://pivotal.io/pivotal-gemfire) / [Apache Geode](http://geode.apache.org/) server is populated with data, which triggers events in a cache listener, cache writer, and cache loader.

To run the example simply run the tests located under event-handlers/src/test in your IDE.

## Running the example

The example is broken up into multiple steps:
1. Insert (Put) 3 Customer entries into the `Customers` region using the repositories `save` method.
2. Insert (Put) 3 Product entries into the `Products` region using the repositories `save` method.
3. Event handler prints when an entry is inserted.
4. Retrieve and print the Product for id=5L, which is randomly generated by the `ProductCacheLoader`

Your test output should contain output similar to the following:

    Inserting 3 entries for keys: 1, 2, 3
    In region [Customers] created key [1] value [Customer(id=1, emailAddress=EmailAddress(value=1@2.com), firstName=John1, lastName=Smith1)]
    In region [Customers] created key [2] value [Customer(id=2, emailAddress=EmailAddress(value=2@2.com), firstName=John2, lastName=Smith2)]
    In region [Customers] created key [3] value [Customer(id=3, emailAddress=EmailAddress(value=3@2.com), firstName=John3, lastName=Smith3)]
    In region [Products] created key [1] value [Apple iPod @ 99.99]
    In region [Products] created key [2] value [Apple iPad @ 499.99]
    In region [Products] created key [3] value [Apple macBook @ 899.99]
    In region [Products] created key [5] value [Aerodynamic Wool Gloves @ 76.44]
    product = Aerodynamic Wool Gloves @ 76.44
    
NOTE: Inorder to see output, you must change the loglevel from "error" to "info" in the `logback.xml` file located under src/test/resources.

NOTE: The product may differ from the example run above since it is randomly selected.